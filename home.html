<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#4ECDC4">
    <link rel="apple-touch-icon" href="assets/icon-192.png">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dra. Natalia Monteiro</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Paleta de Cores Identidade Visual Happy Pet */
        :root {
            --primary: #4ECDC4;    /* Verde √Ågua Moderno */
            --secondary: #FF6B6B;  /* Coral Suave */
            --accent: #FFE66D;     /* Amarelo Sol */
            --bg-app: #F7F9FC;     /* Fundo Clean */
            --text-main: #2D3436;
            --card-white: #FFFFFF;
        }

        body { 
            background-color: var(--bg-app); 
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            color: var(--text-main);
        }

        /* Top Bar Estilizada */
        .top-bar {
            background: linear-gradient(135deg, var(--primary), #45b7af);
            padding: 40px 25px 30px 25px;
            border-radius: 0 0 30px 30px;
            color: white;
            box-shadow: 0 10px 20px rgba(78, 205, 196, 0.2);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand-box i { font-size: 1.8rem; margin-right: 10px; }
        .brand-box span { font-size: 1.4rem; font-weight: 900; letter-spacing: -0.5px; }

        .btn-logout {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }

        /* Boas Vindas */
        .welcome-section {
            padding: 25px;
            margin-top: -10px;
        }
        .welcome-section h2 { font-size: 1.8rem; margin: 0; font-weight: 800; color: var(--text-main); }
        .welcome-section p { color: #636e72; margin: 5px 0 0 0; font-size: 1rem; }

        /* Grid de Menu Refeito */
        .grid-menu {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            padding: 0 25px 40px 25px;
        }

        /* Card Base */
        .menu-card {
            background: var(--card-white);
            border-radius: 24px;
            padding: 25px 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 8px 24px rgba(149, 157, 165, 0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .menu-card:active { transform: scale(0.92); box-shadow: 0 4px 10px rgba(0,0,0,0.05); }

        .menu-card i {
            font-size: 2.2rem;
            margin-bottom: 15px;
        }

        .menu-card span {
            font-weight: 700;
            font-size: 0.95rem;
            color: var(--text-main);
        }

        /* Estiliza√ß√£o por Fun√ß√£o */
        .card-novo { 
            grid-column: 1 / -1; 
            background: var(--secondary);
            flex-direction: row !important;
            gap: 20px;
        }
        .card-novo i, .card-novo span { color: white !important; }

        .card-atendimento { border-bottom: 5px solid #00cec9; }
        .card-agenda { border-bottom: 5px solid #fab1a0; }
        .card-clientes { border-bottom: 5px solid #a29bfe; }
        .card-pets { border-bottom: 5px solid #fdcb6e; }

        /* Anima√ß√£o suave de entrada */
        .animate-up {
            animation: fadeInUp 0.6s ease backwards;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <header class="top-bar">
        <div class="header-content">
            <div class="brand-box">
                <i class="fas fa-paw"></i>
                <span>Dra. Natalia Monteiro</span>
            </div>
            <button onclick="fazerLogout()" class="btn-logout">
                <i class="fas fa-power-off"></i>
            </button>
        </div>
    </header>

    <main class="animate-up">
        <section class="welcome-section">
            <h2 id="msgBoasVindas">Ol√°!</h2>
            <p>O que a Dra. vai fazer agora?</p>
        </section>

        <div class="grid-menu">
            
            <a href="novo_cliente.html" class="menu-card card-novo">
                <i class="fas fa-plus-circle"></i>
                <span>NOVO CLIENTE OU PET</span>
            </a>

            <a href="atendimento.html" class="menu-card card-atendimento">
                <i class="fas fa-stethoscope" style="color: #00cec9;"></i>
                <span>Atendimento</span>
            </a>

            <a href="agenda.html" class="menu-card card-agenda">
                <i class="fas fa-calendar-day" style="color: #ff7675;"></i>
                <span>Minha Agenda</span>
            </a>

            <a href="clientes.html" class="menu-card card-clientes">
                <i class="fas fa-address-book" style="color: #6c5ce7;"></i>
                <span>Tutores</span>
            </a>
            
            <a href="pets.html" class="menu-card card-pets">
                <i class="fas fa-dog" style="color: #e17055;"></i>
                <span>Pacientes</span>
            </a>

        </div>
    </main>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="js/firebase-config.js"></script>

    <script>
        firebase.auth().onAuthStateChanged(async (user) => {
            if (!user) { window.location.href = 'index.html'; return; }
            try {
                const doc = await db.collection('usuarios').doc(user.uid).get();
                if(doc.exists) {
                    const nomeCompleto = doc.data().nome || "Nat√°lia";
                    document.getElementById('msgBoasVindas').innerText = `Oi, ${nomeCompleto.split(' ')[0]}! üëã`;
                }
            } catch(e) { console.error(e); }
        });

        function fazerLogout() {
            if(confirm("Deseja fechar o sistema?")) {
                firebase.auth().signOut().then(() => { window.location.href = 'index.html'; });
            }
        }
    </script>
</body>
</html>